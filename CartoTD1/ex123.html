<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
  <meta charset="utf-8" http-equiv="refresh" content="1" >
  <title>TP1 Carto</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="./tp1.js"></script>
</head>
<body>
  <section id="ex2">
    <h4>Exo 2 (activez la position pour afficher les informations) : </h4>
    <div class="function1">
      <h4>fonction getCurrentPosition()</h4>
      <ul>
      </ul>
    </div>
    <div class="function2">
      <h4>fonction watchPosition()</h4>
      <ul>
      </ul>
    </div>
  </section>
</body>
</html>

<script>
let ex2 ;

$(document).ready(function() {

  ex2 = $('#ex2') ;

  navigator.geolocation.getCurrentPosition(function(position) {
    var firstDiv = ex2.find('.function1') ;
    firstDiv.find('ul').append(
      "<li>Longitude : " + position.coords.longitude + "</li>",
      "<li>Latitude : " + position.coords.latitude + "</li>",
      "<li>Precision : " + position.coords.accuracy + "</li>",
      "<li>Vitesse : " + position.coords.speed + "</li>",
      "<li>Timestamp : " + position.timestamp + "</li>"
    ) ;
  });

  navigator.geolocation.watchPosition(function(position) {
    var secondDiv = ex2.find('.function2') ;
    secondDiv.find('ul').empty() ;
    secondDiv.find('ul').append(
      '<li>Longitude : ' + position.coords.longitude + '</li>',
      "<li>Latitude : " + position.coords.latitude + "</li>",
      "<li>Precision : " + position.coords.accuracy + "</li>",
      "<li>Vitesse : " + position.coords.speed + "</li>",
      "<li>Timestamp : " + position.timestamp + "</li>"
    ) ;
  });
}) ;
</script>